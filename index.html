<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Читання книги</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.22.9/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const bookData = {
            "Розділ 1": {
        "title": "Розділ 1",
        "content": "There is no lake at Camp Green Lake. There once was a very large lake here, the largest lake in Texas. That was over a hundred years ago. Now it is just a dry, flat wasteland.\nThere used to be a town of Green Lake as well. The town shriveled and dried up along with the lake, and the people who lived there.\nDuring the summer the daytime temperature hovers around ninety-five degrees in the shade— if you can find any shade. There's not much shade in a big dry lake.\nThe only trees are two old oaks on the eastern edge of the \"lake.\" A hammock is stretched between the two trees, and a log cabin stands behind that.\nThe campers are forbidden to lie in the hammock. It belongs to the Warden. The Warden owns the shade.\nOut on the lake, rattlesnakes and scorpions find shade under rocks and in the holes dug by the campers.\nHere's a good rule to remember about rattlesnakes and scorpions: If you don't bother them, they won't bother you.\nUsually.\nBeing bitten by a scorpion or even a rattlesnake is not the worst thing that can happen to you. You won't die.\nUsually.\nSometimes a camper will try to be bitten by a scorpion, or even a small rattlesnake. Then he will get to spend a day or two recovering in his tent, instead of having to dig a hole out on the lake\nBut you don't want to be bitten by a yellow-spotted lizard. That's the worst thing that can happen to you. You will die a slow and painful death.\nAlways.\nIf you get bitten by a yellow-spotted lizard, you might as well go into the shade of the oak trees and lie in the hammock.\nThere is nothing anyone can do to you anymore."
    },
            "Розділ 2": {
                title: "Ліс таємниць",
                content: "Олексій увійшов до густого лісу, де дерева шепотіли стародавні заклинання. Раптом перед ним з'явилася загадкова постать у плащі..."
            },
            "Розділ 3": {
                title: "Зустріч з драконом",
                content: "На високій горі Олексій зустрів старого дракона, який розповів йому про таємницю кристала та дав важливе завдання..."
            }
        };

        const BookReader = () => {
            const [currentChapter, setCurrentChapter] = React.useState(0);
            const chapters = Object.keys(bookData);
            
            const goToNextChapter = () => {
                if (currentChapter < chapters.length - 1) {
                    setCurrentChapter(currentChapter + 1);
                }
            };

            const goToPrevChapter = () => {
                if (currentChapter > 0) {
                    setCurrentChapter(currentChapter - 1);
                }
            };

            const currentChapterKey = chapters[currentChapter];
            const chapter = bookData[currentChapterKey];

            return (
                <div className="max-w-2xl mx-auto p-6 bg-gray-100 min-h-screen">
                    <div className="bg-white p-8 rounded-lg shadow-lg">
                        <h1 className="text-2xl font-bold mb-4">{chapter.title}</h1>
                        <p className="text-gray-700 leading-relaxed mb-6">{chapter.content}</p>
                        
                        <div className="flex justify-between">
                            <button 
                                onClick={goToPrevChapter}
                                disabled={currentChapter === 0}
                                className={`px-4 py-2 rounded ${
                                    currentChapter === 0 
                                        ? 'bg-gray-300 cursor-not-allowed' 
                                        : 'bg-blue-500 hover:bg-blue-600 text-white'
                                }`}
                            >
                                Попередній розділ
                            </button>
                            
                            <button 
                                onClick={goToNextChapter}
                                disabled={currentChapter === chapters.length - 1}
                                className={`px-4 py-2 rounded ${
                                    currentChapter === chapters.length - 1
                                        ? 'bg-gray-300 cursor-not-allowed'
                                        : 'bg-blue-500 hover:bg-blue-600 text-white'
                                }`}
                            >
                                Наступний розділ
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BookReader />);
    </script>
</body>
</html>
